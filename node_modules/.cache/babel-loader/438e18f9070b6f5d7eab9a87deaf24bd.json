{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/zrx/Projects/SnippetVault/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/zrx/Projects/SnippetVault/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2;import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import\"./hoverSelect.css\";import{html}from'htm/react';var HoverSelect=function HoverSelect(_ref){var choices=_ref.choices,uniqueName=_ref.uniqueName,selectCallback=_ref.selectCallback;var _useState=useState(\" \"),_useState2=_slicedToArray(_useState,2),currValue=_useState2[0],setCurrValue=_useState2[1];var currentlyOpen=useSelector(function(state){return state.openSelect;});var dispatch=useDispatch();var isOpen=currentlyOpen===uniqueName;var onSelect=function onSelect(c){setCurrValue(c);selectCallback(c);dispatch({type:\"changeSelect\",payload:{selectName:\"\"}});};var onClickHeader=function onClickHeader(){if(isOpen){dispatch({type:\"changeSelect\",payload:{selectName:\"\"}});}else{dispatch({type:\"changeSelect\",payload:{selectName:uniqueName}});}};return html(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n        <div class=\\\"hoverSelect\\\" onMouseEnter=\",\"\\n                onMouseLeave=\",\">            \\n            <span class=\\\"search\\\" onClick=\",\">\\n                <span class=\",\">(-)</span>\\n                <span class=\\\"rightLabel\\\">\",\"</span>\\n            </span>\\n            {isOpen && \\n                <div class=\\\"menu\\\">\\n                    <ul class=\\\"list\\\">\\n                        <li>\\n                            <ul class=\\\"optgroup\\\">\\n                                \",\"\\n                            </ul>\\n                        </li>\\n                    </ul>\\n                </div>\\n            }\\n        </div>\\n    \"])),function(){return dispatch({type:\"changeSelect\",payload:{selectName:uniqueName}});},function(){return dispatch({type:\"changeSelect\",payload:{selectName:\"\"}});},onClickHeader,\"leftButton\"+(isOpen?\" hoverSelectActive\":\" hoverSelectInactive\"),currValue,choices.map(function(c,idx){return html(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"<li key=\",\" onClick=\",\">{c}</li>\"])),idx,function(){return onSelect(c);});}));};export default HoverSelect;","map":{"version":3,"sources":["/Users/zrx/Projects/SnippetVault/src/frontend/src/commonComponents/hoverSelect/hoverSelect.ts"],"names":["useState","useDispatch","useSelector","html","HoverSelect","choices","uniqueName","selectCallback","currValue","setCurrValue","currentlyOpen","state","openSelect","dispatch","isOpen","onSelect","c","type","payload","selectName","onClickHeader","map","idx"],"mappings":"6XAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAO,mBAAP,CACA,OAASC,IAAT,KAAqB,WAArB,CASA,GAAMC,CAAAA,WAA2C,CAAG,QAA9CA,CAAAA,WAA8C,MAA6C,IAA3CC,CAAAA,OAA2C,MAA3CA,OAA2C,CAAlCC,UAAkC,MAAlCA,UAAkC,CAAtBC,cAAsB,MAAtBA,cAAsB,CAC7F,cAAkCP,QAAQ,CAAC,GAAD,CAA1C,wCAAOQ,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,aAAa,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAoBA,CAAAA,KAAK,CAACC,UAA1B,EAAD,CAAjC,CACA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,CAAAA,MAAM,CAAGJ,aAAa,GAAKJ,UAAjC,CAEA,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAe,CAC5BP,YAAY,CAACO,CAAD,CAAZ,CACAT,cAAc,CAACS,CAAD,CAAd,CACAH,QAAQ,CAAC,CAACI,IAAI,CAAE,cAAP,CAAuBC,OAAO,CAAE,CAACC,UAAU,CAAE,EAAb,CAAhC,CAAD,CAAR,CACH,CAJD,CAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxB,GAAIN,MAAJ,CAAY,CACRD,QAAQ,CAAC,CAACI,IAAI,CAAE,cAAP,CAAuBC,OAAO,CAAE,CAACC,UAAU,CAAE,EAAb,CAAhC,CAAD,CAAR,CACH,CAFD,IAEO,CACHN,QAAQ,CAAC,CAACI,IAAI,CAAE,cAAP,CAAuBC,OAAO,CAAE,CAACC,UAAU,CAAEb,UAAb,CAAhC,CAAD,CAAR,CACH,CACJ,CAND,CAOA,MAAOH,CAAAA,IAAP,wsBAC4C,iBAAMU,CAAAA,QAAQ,CAAC,CAACI,IAAI,CAAE,cAAP,CAAuBC,OAAO,CAAE,CAACC,UAAU,CAAEb,UAAb,CAAhC,CAAD,CAAd,EAD5C,CAE2B,iBAAMO,CAAAA,QAAQ,CAAC,CAACI,IAAI,CAAE,cAAP,CAAuBC,OAAO,CAAE,CAACC,UAAU,CAAE,EAAb,CAAhC,CAAD,CAAd,EAF3B,CAGuCC,aAHvC,CAI0B,cAAgBN,MAAM,CAAG,oBAAH,CAA0B,sBAAhD,CAJ1B,CAKuCN,SALvC,CAY8BH,OAAO,CAACgB,GAAR,CAAY,SAACL,CAAD,CAAYM,GAAZ,CAA4B,CACtC,MAAOnB,CAAAA,IAAP,mGAAsBmB,GAAtB,CAAqC,iBAAMP,CAAAA,QAAQ,CAACC,CAAD,CAAd,EAArC,EACH,CAFC,CAZ9B,EAsBH,CAzCD,CA4CA,cAAeZ,CAAAA,WAAf","sourcesContent":["import { useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { SVState } from \"../../redux/state\"\r\nimport \"./hoverSelect.css\"\r\nimport { html } from 'htm/react'\r\n\r\n\r\ntype Props = {\r\n    choices: string[],\r\n    uniqueName: string,\r\n    selectCallback: (c: string) => void,\r\n}\r\n\r\nconst HoverSelect: React.FunctionComponent<Props> = ({choices, uniqueName, selectCallback, }) => {\r\n    const [currValue, setCurrValue] = useState(\" \")\r\n    const currentlyOpen = useSelector((state: SVState) => state.openSelect)\r\n    const dispatch = useDispatch()\r\n    const isOpen = currentlyOpen === uniqueName\r\n\r\n    const onSelect = (c: string) => {\r\n        setCurrValue(c)\r\n        selectCallback(c)\r\n        dispatch({type: \"changeSelect\", payload: {selectName: \"\", }})\r\n    }\r\n\r\n    const onClickHeader = () => {\r\n        if (isOpen) {\r\n            dispatch({type: \"changeSelect\", payload: {selectName: \"\", }})\r\n        } else {\r\n            dispatch({type: \"changeSelect\", payload: {selectName: uniqueName, }})\r\n        }\r\n    }\r\n    return html`\r\n        <div class=\"hoverSelect\" onMouseEnter=${() => dispatch({type: \"changeSelect\", payload: {selectName: uniqueName, }})}\r\n                onMouseLeave=${() => dispatch({type: \"changeSelect\", payload: {selectName: \"\", }})}>            \r\n            <span class=\"search\" onClick=${onClickHeader}>\r\n                <span class=${\"leftButton\" + (isOpen ? \" hoverSelectActive\" : \" hoverSelectInactive\")}>(-)</span>\r\n                <span class=\"rightLabel\">${currValue}</span>\r\n            </span>\r\n            {isOpen && \r\n                <div class=\"menu\">\r\n                    <ul class=\"list\">\r\n                        <li>\r\n                            <ul class=\"optgroup\">\r\n                                ${choices.map((c: string, idx: number) => {\r\n                                    return html`<li key=${idx} onClick=${() => onSelect(c)}>{c}</li>`\r\n                                })}\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            }\r\n        </div>\r\n    `\r\n}\r\n\r\n\r\nexport default HoverSelect"]},"metadata":{},"sourceType":"module"}